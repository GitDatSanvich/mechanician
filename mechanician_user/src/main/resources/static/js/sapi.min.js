"use strict";var _createClass=function(){function a(b,c){for(var f,d=0;d<c.length;d++)f=c[d],f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(b,f.key,f)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(function(){var a=function(){function d(){_classCallCheck(this,d)}return _createClass(d,[{key:"_getResponseObject",value:function _getResponseObject(f){return this.status=f.status,this.statusText=f.statusText,this.data=f.responseText,this.readyState=f.readyState,this.headers=f.getAllResponseHeaders(),this.__proto__._response=f,Object.seal(this),Object.freeze(this),this}},{key:"getHeader",value:function getHeader(f){var g;try{g=this.__proto__._response.getResponseHeader(f).trim()}catch(h){g=void 0}return g}}]),d}(),b=function(){function d(f,g){_classCallCheck(this,d),this.type=f,this.url=g,this._data=null,this._headers={},this.request=new XMLHttpRequest,this.request.open(this.type,this.url)}return _createClass(d,[{key:"addHeaders",value:function addHeaders(f){this._headers=f?f:{};var g=Object.keys(this._headers),_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var j,k,h=g[Symbol.iterator]();!(_iteratorNormalCompletion=(j=h.next()).done);_iteratorNormalCompletion=!0)k=j.value,this.request.setRequestHeader(k,this._headers[k])}catch(l){_didIteratorError=!0,_iteratorError=l}finally{try{!_iteratorNormalCompletion&&h.return&&h.return()}finally{if(_didIteratorError)throw _iteratorError}}return this}},{key:"data",value:function data(f){return this._data=f,this}},{key:"send",value:function send(){var f=this;return new Promise(function(g,h){f.request.onload=function(){g(new a()._getResponseObject(f.request))},f.request.onerror=function(){h(new a()._getResponseObject(f.request))},f.request.send(f._serializeData())})}},{key:"_serializeData",value:function _serializeData(){var f=[];for(var g in this._data)this._data.hasOwnProperty(g)&&f.push(encodeURIComponent(g)+"="+encodeURIComponent(this._data[g]));return f.join("&")}}]),d}(),c=function(){function d(){_classCallCheck(this,d)}return _createClass(d,[{key:"get",value:function get(f,g,h){return new b("GET",f).data(g).addHeaders(h).send()}},{key:"post",value:function post(f,g,h){return new b("POST",f).data(g).addHeaders(h).send()}},{key:"put",value:function put(f,g,h){return new b("PUT",f).data(g).addHeaders(h).send()}},{key:"patch",value:function patch(f,g,h){return new b("PATCH",f).data(g).addHeaders(h).send()}},{key:"delete",value:function _delete(f,g,h){return new b("DELETE",f).data(g).addHeaders(h).send()}},{key:"hit",value:function hit(f,g,h,j){return new b(f,g).data(h).addHeaders(j).send()}}]),d}();window.sapi=new c})();